<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React | FE</title>
    <meta name="description" content="故不积跬步，无以至千里">
    <link rel="icon" href="/career/favicon.ico">
    
    <link rel="preload" href="/career/assets/css/0.styles.85729775.css" as="style"><link rel="preload" href="/career/assets/js/app.1671480c.js" as="script"><link rel="preload" href="/career/assets/js/19.e0a2a1d4.js" as="script"><link rel="prefetch" href="/career/assets/js/10.20f640e6.js"><link rel="prefetch" href="/career/assets/js/11.617a647b.js"><link rel="prefetch" href="/career/assets/js/12.80a124af.js"><link rel="prefetch" href="/career/assets/js/13.b7aeb53c.js"><link rel="prefetch" href="/career/assets/js/14.dc7f79c8.js"><link rel="prefetch" href="/career/assets/js/15.7c8ccf9d.js"><link rel="prefetch" href="/career/assets/js/16.18bd5a7c.js"><link rel="prefetch" href="/career/assets/js/17.f08a2bc3.js"><link rel="prefetch" href="/career/assets/js/18.9d0d1ee3.js"><link rel="prefetch" href="/career/assets/js/2.e3c16dc1.js"><link rel="prefetch" href="/career/assets/js/20.23a477cb.js"><link rel="prefetch" href="/career/assets/js/21.29fc4436.js"><link rel="prefetch" href="/career/assets/js/22.f012c97d.js"><link rel="prefetch" href="/career/assets/js/23.0cb9a4ec.js"><link rel="prefetch" href="/career/assets/js/24.b5deb1e6.js"><link rel="prefetch" href="/career/assets/js/25.f158f46d.js"><link rel="prefetch" href="/career/assets/js/26.8b9cd5dd.js"><link rel="prefetch" href="/career/assets/js/27.59fcfd67.js"><link rel="prefetch" href="/career/assets/js/28.e3e6f7f3.js"><link rel="prefetch" href="/career/assets/js/29.8d891db6.js"><link rel="prefetch" href="/career/assets/js/3.8b2a45ed.js"><link rel="prefetch" href="/career/assets/js/30.c8c7577c.js"><link rel="prefetch" href="/career/assets/js/31.dee877a3.js"><link rel="prefetch" href="/career/assets/js/32.442d8f8a.js"><link rel="prefetch" href="/career/assets/js/33.2bedb77f.js"><link rel="prefetch" href="/career/assets/js/34.70567c1f.js"><link rel="prefetch" href="/career/assets/js/35.faf62e4d.js"><link rel="prefetch" href="/career/assets/js/36.fbd5b722.js"><link rel="prefetch" href="/career/assets/js/4.457491b5.js"><link rel="prefetch" href="/career/assets/js/5.48e6cd06.js"><link rel="prefetch" href="/career/assets/js/6.fcaeb73b.js"><link rel="prefetch" href="/career/assets/js/7.e74a09f6.js"><link rel="prefetch" href="/career/assets/js/8.e184f2da.js"><link rel="prefetch" href="/career/assets/js/9.99c09a6f.js">
    <link rel="stylesheet" href="/career/assets/css/0.styles.85729775.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/career/" class="home-link router-link-active"><!----> <span class="site-name">FE</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/career/" class="nav-link">首页</a></div><div class="nav-item"><a href="/career/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/career/framework/" class="nav-link router-link-active">框架</a></div><div class="nav-item"><a href="/career/project/" class="nav-link">工程化</a></div><div class="nav-item"><a href="/career/record/" class="nav-link">⭐⭐⭐⭐⭐</a></div> <a href="https://github.com/jianxiangxun" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/career/" class="nav-link">首页</a></div><div class="nav-item"><a href="/career/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/career/framework/" class="nav-link router-link-active">框架</a></div><div class="nav-item"><a href="/career/project/" class="nav-link">工程化</a></div><div class="nav-item"><a href="/career/record/" class="nav-link">⭐⭐⭐⭐⭐</a></div> <a href="https://github.com/jianxiangxun" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>框架</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/career/framework/1-1react.html" aria-current="page" class="active sidebar-link">React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#概念" class="sidebar-link">概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#hook" class="sidebar-link">hook</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#api" class="sidebar-link">api</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#refs" class="sidebar-link">refs</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#组件通信" class="sidebar-link">组件通信</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#其他" class="sidebar-link">其他</a></li></ul></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#深入原理" class="sidebar-link">深入原理</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#性能优化" class="sidebar-link">性能优化</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#项目" class="sidebar-link">项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#项目实践" class="sidebar-link">项目实践</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#开源项目" class="sidebar-link">开源项目</a></li></ul></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#面试题" class="sidebar-link">面试题</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#移动端" class="sidebar-link">移动端</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#组件库" class="sidebar-link">组件库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#checkbox" class="sidebar-link">checkbox</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#tabs" class="sidebar-link">tabs</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#progress" class="sidebar-link">progress</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#slider" class="sidebar-link">slider</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#dropdown" class="sidebar-link">dropdown</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#menu" class="sidebar-link">menu</a></li></ul></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#状态管理" class="sidebar-link">状态管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#redux" class="sidebar-link">redux</a></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#不可变对象" class="sidebar-link">不可变对象</a></li></ul></li><li class="sidebar-sub-header"><a href="/career/framework/1-1react.html#视频中的知识点" class="sidebar-link">视频中的知识点</a></li></ul></li><li><a href="/career/framework/1-2react-native.html" class="sidebar-link">React-native</a></li><li><a href="/career/framework/1-3vue.html" class="sidebar-link">Vue</a></li><li><a href="/career/framework/2-1小程序.html" class="sidebar-link">小程序</a></li><li><a href="/career/framework/3-1node.html" class="sidebar-link">Node</a></li><li><a href="/career/framework/" aria-current="page" class="sidebar-link">汇总</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="react"><a href="#react" class="header-anchor">#</a> React</h1> <h2 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h2> <h3 id="hook"><a href="#hook" class="header-anchor">#</a> hook</h3> <ul><li>Basic Hooks
<ul><li>useState</li> <li>useEffect</li> <li>useContext</li></ul></li> <li>Additional Hooks
<ul><li>useReducer</li> <li>useCallback</li> <li>useMemo</li> <li>useRef</li> <li>useImperativeHandle</li> <li>useLayoutEffect</li> <li>useDebugValue</li></ul></li></ul> <p><a href="https://juejin.im/post/6844904101445124110" target="_blank" rel="noopener noreferrer">详解 useCallback &amp; useMemo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>将 useCallback 依赖的第二个参数变成了一个空的数组，由于 JS 的静态作用域导致此函数内 的值 永远都不变</li> <li>使用 useRef 可以生成一个变量让其在组件每个生命周期内都能访问到</li> <li>useCallback 是要配合子组件的 shouldComponentUpdate 或者 React.memo 一起来使用的，否则就是反向优化。</li> <li>可以将 useMemo 的返回值定义为返回一个函数这样就可以变通的实现了 useCallback</li></ul> <p><a href="https://overreacted.io/zh-hans/a-complete-guide-to-useeffect/" target="_blank" rel="noopener noreferrer">useEffect 完整指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ⭐</p> <ul><li>每一次渲染都有它自己的 state、props、函数、effect。。。</li> <li>class 组件中 setState 的运行方式和函数式组件的不同，多次放在<code>setTimeout</code>中调用的情况</li> <li>组件内的每一个函数（包括事件处理函数，effects，定时器或者 API 调用等等）会捕获定义它们的那次渲染中的 props 和 state</li> <li>**顺序：**浏览器绘制后渲染、运行上一次的清除 effectReact、运行本次的 effect（大多数 effects 并不会阻塞屏幕的更新）</li> <li>为什么有时候在 effect 里拿到的是旧的 state 或 prop 呢？Effect 拿到的总是定义它的那次渲染中的 props 和 state。</li> <li>有时候你可能想在 effect 的回调函数里读取最新的值而不是捕获的值。最简单的实现方法是使用 refs</li> <li>那 Effect 中的清理，本质上，它的目的是消除副作用（effect)，比如取消订阅。</li> <li><strong>同步的</strong>概念，每一次渲染有自己的值，希望看到的是<strong>最终结果</strong></li> <li><code>effect、usememo、usecallback</code>依赖项,<strong>函数</strong>作为依赖项
<ul><li>setState 中传递函数，减少依赖项的传递，找到更新的<strong>最小状态</strong></li> <li>减少间接依赖，把函数用<code>usecallback</code>包裹，然后作为依赖项</li> <li><code>eslint-plugin-react-hooks</code> 插件的<code>exhaustive-depslint</code>规则</li></ul></li> <li>useReducer 的使用，React 会保证 dispatch 在组件的声明周期内保持不变。它会在下一次渲染中再次调用 reducer（最新，可以使用 props，但是不建议）</li> <li>竟态，通过设置标志位解决</li></ul> <p><a href="https://juejin.cn/post/6890738145671938062" target="_blank" rel="noopener noreferrer">玩转 react-hooks,自定义 hooks 设计模式及其实战<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ⭐</p> <ul><li>react 新增的钩子 API，目的是<strong>增加代码的可复用性</strong>，逻辑性，弥补无状态组件没有生命周期，没有数据管理状态 state 的缺陷。</li> <li>hooks 专注的就是<strong>逻辑复用</strong></li> <li>要特别～特别～特别关注的是<strong>传进去什么</strong>，<strong>返回什么</strong></li></ul> <p><a href="https://juejin.im/post/6844903858662014983#heading-24" target="_blank" rel="noopener noreferrer">深入浅出 React Hooks<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://reactjs.org/docs/hooks-faq.html" target="_blank" rel="noopener noreferrer">Hooks FAQ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ⭐</p> <h3 id="api"><a href="#api" class="header-anchor">#</a> api</h3> <p><a href="https://juejin.cn/post/6950063294270930980" target="_blank" rel="noopener noreferrer">React 全部 api 解读+基础实践大全<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>组件类、工具类、hook 类、DOM 类</li> <li>forwardRef、lazy、suspense、profiler、strictMode</li> <li>createElement、cloneElement、isValidElement、Children 系列</li> <li>hooks
<ul><li>useEffect 执行顺序: 组件更新挂载完成 -&gt; 浏览器 dom 绘制完成 -&gt; 执行 useEffect 回调。</li> <li>useLayoutEffect 执行顺序: 组件更新挂载完成 -&gt; 执行 useLayoutEffect 回调-&gt; 浏览器 dom 绘制完成。</li> <li>useImperativeHandle,自定义通过 ref 获取的内容，如各种方法。</li></ul></li> <li>createPortal、flushSync</li></ul> <h3 id="refs"><a href="#refs" class="header-anchor">#</a> refs</h3> <p><a href="https://juejin.im/post/6844903982725349390#heading-5" target="_blank" rel="noopener noreferrer">你想知道的关于 Refs 的知识都在这了<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>⭐</p> <p><a href="https://juejin.im/post/6888616874171432973" target="_blank" rel="noopener noreferrer">从一个需求出发，聊聊 useRef 三兄弟<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="组件通信"><a href="#组件通信" class="header-anchor">#</a> 组件通信</h3> <p><a href="https://www.jianshu.com/p/fb915d9c99c4" target="_blank" rel="noopener noreferrer">React 中组件间通信的几种方式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://juejin.im/post/5a90e0545188257a63112977" target="_blank" rel="noopener noreferrer">聊一聊我对 React Context 的理解以及应用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h3> <p><a href="https://juejin.cn/post/6970845778713509919" target="_blank" rel="noopener noreferrer">漫谈 React 异步组件前世与今生<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>componentDidCatch,子组件有异常时捕获错误,called during the “commit” phase,提交阶段</li> <li>异步组件
<ul><li>异步模式：请求数据-&gt; 渲染组件。</li> <li>传统模式：渲染组件-&gt; 请求数据 -&gt; 再渲染组件。</li></ul></li> <li>suspense 原理，在 componentDidCatch 中捕获异常，更改状态应用 fallback,reslove 后渲染组件</li> <li>lazy 原理，通过抛出异常阻止同步组件渲染，lazy 返回一个 promise，pending 阶段抛出异常并返回一个对象，resolve 后在渲染组件</li> <li><a href="https://relay.dev/docs/getting-started/step-by-step-guide/" target="_blank" rel="noopener noreferrer">relay<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p><a href="https://overreacted.io/zh-hans/how-are-function-components-different-from-classes/" target="_blank" rel="noopener noreferrer">函数式组件与类组件有何不同？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://www.robinwieruch.de/react-hooks-fetch-data" target="_blank" rel="noopener noreferrer">How to fetch data with React Hooks?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://overreacted.io/react-as-a-ui-runtime/" target="_blank" rel="noopener noreferrer">React as a UI Runtime<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="深入原理"><a href="#深入原理" class="header-anchor">#</a> 深入原理</h2> <p><a href="https://react.jokcy.me/" target="_blank" rel="noopener noreferrer">React 源码解析<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://zhuanlan.zhihu.com/p/78669634" target="_blank" rel="noopener noreferrer">谈谈 React 事件机制和未来(react-events)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>事件委托、合成事件、触发优先级</li> <li>自定义事件系统原因：
<ul><li>抹平浏览器之间的兼容性差异</li> <li>事件‘合成’, 即事件自定义</li> <li>抽象跨平台事件机制</li> <li>React 打算做更多优化,React 需要自己模拟一套事件冒泡的机制</li> <li>React 打算干预事件的分发</li></ul></li></ul> <p><a href="https://juejin.cn/post/6955636911214067720" target="_blank" rel="noopener noreferrer">「react 进阶」一文吃透 react 事件系统原理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>什么是合成事件
<ul><li>我们绑定的事件 onClick 等，并不是原生事件，而是由原生事件合成的 React 事件，比如 click 事件合成为 onClick 事件。比如 blur , change , input , keydown , keyup 等 , 合成为 onChange。</li> <li>将事件绑定在 document 统一管理，防止很多事件直接绑定在原生的 dom 元素上。</li> <li>React 想实现一个全浏览器的框架， 为了实现这种目标就需要提供全浏览器一致性的事件系统，以此抹平不同浏览器的差异。</li> <li>react 并不是一开始，把所有的事件都绑定在 document 上，而是采取了一种按需绑定，比如发现了 onClick 事件,再去绑定 document click 事件。</li></ul></li> <li>事件初始化、事件合成
<ul><li><strong>构建初始化 React 合成事件和原生事件的对应关系</strong></li></ul></li> <li>事件绑定
<ul><li>根据对应管理，找到对应的原生事件，调用 addTrappedEventListener 绑定在 document 上</li> <li>只有上述那几个特殊事件比如 scorll,focus,blur 等是在事件捕获阶段发生的，其他的都是在事件冒泡阶段发生的，无论是 onClick 还是 onClickCapture 都是发生在冒泡阶段</li></ul></li> <li>事件触发
<ul><li>dispatchEvent</li> <li>通过 e.target 找到真实 DOM 元素</li> <li>模拟事件冒泡</li></ul></li></ul> <p><a href="https://juejin.cn/post/6886290490640039943" target="_blank" rel="noopener noreferrer">「源码解析 」这一次彻底弄懂 react-router 路由原理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>react-router-dom 和 react-router 和 history 库三者关系</li> <li>单页面应用路由实现<strong>原理</strong>是，切换 url，监听 url 变化，从而渲染不同的页面组件。
<ul><li>history、hash 通过 history.pushState、location.hash 改变 URL，通过 popstate、hashchange 事件监听</li></ul></li> <li>history
<ul><li>点击链接/push 方法 &gt; 监听 &gt; 触发 &gt; setState &gt; 通知 router</li></ul></li> <li>react-router
<ul><li>Router,接收 location 变化，派发更新流， 作用是把 history location 等路由信息传递下去</li> <li>Switch-匹配正确的唯一的路由</li> <li>Route-组件页面承载容器，匹配 path,渲染组件。
<ul><li>作为路由组件的容器,可以根据将实际的组件渲染出来。</li> <li>通过 RouterContext.Consume 取出当前上一级的 location,match 等信息。作为 prop 传递给页面组件。</li> <li>使得我们可以在页面组件中的 props 中获取 location ,match 等信息。</li></ul></li> <li>Redirect-没有符合的路由，那么重定向</li></ul></li> <li>总结
<ul><li>当地址栏改变 url，组件的更新渲染都经历了什么？
<ul><li>拿 history 模式做参考。当 url 改变，首先触发 histoy，调用事件监听 popstate 事件， 触发回调函数 handlePopState，触发 history 下面的 setstate 方法。</li> <li>产生新的 location 对象，然后通知 Router 组件更新 location 并通过 context 上下文传递，switch 通过传递的更新流，匹配出符合的 Route 组件渲染，最后有 Route 组件取出 context 内容，传递给渲染页面，渲染更新。</li></ul></li> <li>当我们调用 history.push 方法，切换路由，组件的更新渲染又都经历了什么呢？
<ul><li>我们还是拿 history 模式作为参考，当我们调用 history.push 方法，首先调用 history 的 push 方法，通过 history.pushState 来改变当前 url，接下来触发 history 下面的 setState 方法，接下来的步骤就和上面一样</li></ul></li></ul></li></ul> <p><a href="https://juejin.cn/post/6944863057000529933" target="_blank" rel="noopener noreferrer">「react 进阶」一文吃透 react-hooks 原理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h2> <p><a href="https://juejin.cn/post/6935584878071119885" target="_blank" rel="noopener noreferrer">React 性能优化完全指南，将自己这几年的心血总结成这篇！<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://mp.weixin.qq.com/s/oxy3yXipelNKYKi7t2KbeA" target="_blank" rel="noopener noreferrer">React 性能优化大挑战：一次理解 Immutable data 跟 shouldComponentUpdate<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://juejin.im/post/6889247428797530126" target="_blank" rel="noopener noreferrer">我在大厂写 React，学到了什么？性能优化篇<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>尽量提升渲染无关的子组件元素到「有状态组件」的外部。</li> <li>在需要的情况下对 Context 进行读写分离。</li> <li>包装 Context 的使用，注意错误处理。</li> <li>组合多个 Context，优化代码。</li></ul> <p><a href="https://zhuanlan.zhihu.com/p/74229420" target="_blank" rel="noopener noreferrer">浅谈 React 性能优化的方向<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>减少渲染的节点/降低渲染计算量(复杂度)</p></blockquote> <ul><li>0️⃣ 不要在渲染函数都进行不必要的计算</li> <li>1️⃣ 减少不必要的嵌套</li> <li>2️⃣ 虚拟列表</li> <li>3️⃣ 惰性渲染</li> <li>4️⃣ 选择合适的样式方案</li></ul> <blockquote><p>避免重新渲染</p></blockquote> <ul><li>0️⃣ 简化 props</li> <li>1️⃣ 不变的事件处理器</li> <li>2️⃣ 不可变数据</li> <li>3️⃣ 简化 state</li> <li>4️⃣ 使用 recompose 精细化比对</li></ul> <blockquote><p>精细化渲染</p></blockquote> <ul><li>0️⃣ 响应式数据的精细化渲染</li> <li>1️⃣ 不要滥用 Context</li></ul> <p><a href="https://zhuanlan.zhihu.com/p/120748634" target="_blank" rel="noopener noreferrer">React 项目性能分析及优化<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>减少不必要的 render，PureComponent/ShouldComponentUpdate</li> <li>react.useMemo</li> <li>react.useCallback</li> <li>谨慎使用 context</li> <li>小心使用 redux</li> <li>不可变数据，immer.js</li></ul> <p><a href="https://zhuanlan.zhihu.com/p/48059589" target="_blank" rel="noopener noreferrer">你也想做掌控全局的 React 大师吗？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>发现不必要的渲染，<a href="https://github.com/maicki/why-did-you-update" target="_blank" rel="noopener noreferrer">why-did-you-update<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p><a href="https://zhuanlan.zhihu.com/p/44404836" target="_blank" rel="noopener noreferrer">Airbnb 爱彼迎房源详情页中的 React 性能优化<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://juejin.im/post/6844903869378641933" target="_blank" rel="noopener noreferrer">React 性能测量和分析<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://zhuanlan.zhihu.com/p/34802753" target="_blank" rel="noopener noreferrer">React + Redux 性能优化（二）工具篇： Immutablejs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://zhuanlan.zhihu.com/p/93268933" target="_blank" rel="noopener noreferrer">项目实战中 React 性能优化<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://juejin.im/post/6844903881676161031#heading-12" target="_blank" rel="noopener noreferrer">21 项优化 React App 性能的技术<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="项目"><a href="#项目" class="header-anchor">#</a> 项目</h2> <h3 id="项目实践"><a href="#项目实践" class="header-anchor">#</a> 项目实践</h3> <p><a href="https://juejin.im/post/5b6be6c7e51d4519044ad684" target="_blank" rel="noopener noreferrer">React 16.x 折腾记 - (1) React Router V4 和 antd 侧边栏的正确关联及动态 title 的实现<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://juejin.im/post/6844903684422254606#heading-2" target="_blank" rel="noopener noreferrer">TypeScript 在 React 中使用总结<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>⭐</p> <ul><li><p>内部移动端聊天项目（问题记录）</p> <ul><li>hook 的写法，哪些变量应该放到<code>useRef</code>中，那个可以直接声明，尤其<code>new</code>出来的对象</li> <li>websocket 在开发环境，路径不能只是，会与 wds(webpack dev server)产生冲突？</li> <li>功能尽量拆分出单独的方法，调用方法</li></ul></li> <li><p>做一个项目，开始时做设计，结束做总结：</p> <ul><li>项目中用到的技术点，组件</li> <li>开发中可能遇到的技术难点</li> <li>整体的项目结构，工程化需要用到的工具</li> <li>会用到哪些组件、手写还是引用第三方开源</li> <li>工具方法的提炼，也可以写成 hook 的形式</li> <li>CSS 的组织，需要用到哪些变量</li> <li>hooks(useState,useEffect,useRef...)只能用到函数式组件的内部，或者自定义 hook 中</li> <li>可以通过路由组织页面结构</li> <li>完成后总结遇到的问题，进度慢的原因，避免边做边想，陷入细节，做的过程中发现方向性问题</li> <li></li></ul></li></ul> <h3 id="开源项目"><a href="#开源项目" class="header-anchor">#</a> 开源项目</h3> <ul><li><p><a href="https://marmelab.com/react-admin/Readme.html" target="_blank" rel="noopener noreferrer">react-admin，marmelab 定制化的后台管理系统。<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>layout</li> <li>theme</li> <li>auth</li> <li>data provider</li> <li>crud</li></ul></li> <li><p><a href="https://github.com/yezihaohao/react-admin" target="_blank" rel="noopener noreferrer">react-admin system solution : react 后台管理系统解决方案<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>路由的编程式写法，包含嵌套</li> <li>菜单栏根据路由生成，权限控制</li></ul></li> <li><p><a href="https://github.com/sanyuan0704/react-cloud-music" target="_blank" rel="noopener noreferrer">react hooks+redux+immutable.js 仿网易云音乐打造精美 webApp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>diff 原理</li> <li>immutable + purecomponent/memo 优化的原理</li> <li>betterscroll 使用</li> <li>transform</li> <li>react-transition-group 使用</li> <li>styled-components</li> <li>swiper</li> <li>React.lazy</li> <li>react-lazyload 插件</li></ul></li> <li><p><a href="https://github.com/laurent22/joplin" target="_blank" rel="noopener noreferrer">Joplin - an open source note taking and to-do application with synchronization capabilities for every platform<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://github.com/mattermost/mattermost-webapp" target="_blank" rel="noopener noreferrer">Mattermost is an open source, self-hosted Slack-alternative from mattermost.org<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li><a href="https://developers.mattermost.com/contribute/getting-started/" target="_blank" rel="noopener noreferrer">开发文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><p><a href="https://github.com/taniarascia/takenote" target="_blank" rel="noopener noreferrer">A web-based notes app for developers.<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>typescript</li> <li>testing-library-react</li> <li>cypress</li> <li></li></ul></li></ul> <h2 id="面试题"><a href="#面试题" class="header-anchor">#</a> 面试题</h2> <p><a href="https://juejin.im/post/6844904031735775245" target="_blank" rel="noopener noreferrer">大厂面试中遇到的几十道 webpack 与 react 面试题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="移动端"><a href="#移动端" class="header-anchor">#</a> 移动端</h2> <ul><li><a href="https://github.com/caoxiaoke/react-vw-layout" target="_blank" rel="noopener noreferrer">react 移动端适配<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，有个毛病，没有生命 postcss-preset-env</li></ul> <h2 id="组件库"><a href="#组件库" class="header-anchor">#</a> 组件库</h2> <ul><li>开源组件库
<ul><li>https://github.com/brillout/awesome-react-components</li> <li>https://ant.design/index-cn</li> <li>https://mobile.ant.design/index-cn</li> <li>https://rn.mobile.ant.design/index-cn</li> <li>https://github.com/styled-components/styled-components</li> <li>https://github.com/react-bootstrap/react-bootstrap</li> <li>https://material-ui.com/zh/</li> <li>https://github.com/elemefe/element-react</li> <li><a href="https://github.com/brillout/awesome-react-components" target="_blank" rel="noopener noreferrer">react 组件库,awesome-react-components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/react-component?type=source" target="_blank" rel="noopener noreferrer">antd 的基础库，react-component<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <ul><li>ant-design 在 react-component 组件之上包装一层，加上一些公用的属性，如<code>size</code>,<code>diriction</code>,<code>position</code>等</li> <li></li></ul></li></ul></li></ul> <h3 id="checkbox"><a href="#checkbox" class="header-anchor">#</a> checkbox</h3> <h4 id="ant-design-实现的-checkbox"><a href="#ant-design-实现的-checkbox" class="header-anchor">#</a> ant-design 实现的 CheckBox</h4> <ul><li><p><a href="https://github.com/react-component/checkbox" target="_blank" rel="noopener noreferrer">rc-checkbox<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>当从 props 中获取值作为 state 时，可以使用 getDerivedStateFromProps</li> <li>onChange 事件的处理</li> <li>classnames 处理 class 名称，命名规则按照（前缀+层级+状态/形状。。。），常用的如<code>prefix</code>,<code>wrapper</code>,<code>inner</code>,<code>item</code>...</li> <li></li></ul></li> <li><p><a href="https://github.com/ant-design/ant-design/tree/master/components/checkbox" target="_blank" rel="noopener noreferrer">antd-checkbox<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li><p>typescript 的使用</p> <ul><li><code>React.CSSProperties</code>,<code>React.MouseEventHandler&lt;HTMLElement&gt;</code>,<code>React.KeyboardEventHandler&lt;HTMLElement&gt;</code></li></ul></li> <li><p>group(关键的两步，<strong><em>registerValue</em></strong>,<strong><em>toggleOption</em></strong>)</p> <ul><li>主要的信息都通过<code>context</code>传递给子组件,<code>toggleOption</code>,<code>value</code>,<code>disabled</code>,<code>name</code>,<code>registerValue</code>,<code>cancelValue</code>,</li> <li>接收到的初始<code>value</code>数组，作为初始值出传递给<code>useState</code></li> <li><code>toggleOption</code>更新<code>CheckBox</code>是否选中，暴露给用户的<code>onChange</code>接口 API 也在该方法中调用，api 接受<code>value</code>数组，并被<code>registeredValues</code>过滤过，保证值对应的组件在页面上</li> <li><code>registerValue</code>、<code>cancelValue</code>传递给子组件，注册或者取消注册子组件，当删除或者新增的时候调用</li> <li>通过 options 生成对应的一个或者多个<code>CheckBox</code></li> <li>组件通过 memo 包装了一层</li></ul></li> <li><p>CheckBox</p> <ul><li>对于在<code>group</code>中使用的<code>CheckBox</code>，第一次渲染完成，判断是否有传递过来的<code>registerValue</code>,有则调用注册当前<code>CheckBox</code></li> <li>对于在<code>group</code>中使用的<code>CheckBox</code>，当<code>value</code>变化并且与之前的值不相等，重新<code>registerValue</code></li> <li>对于在<code>group</code>中使用的<code>CheckBox</code>，在<code>props</code>的<code>onChange</code>方法中调用 <strong><em><code>toggleOption</code></em></strong> ,单独使用 CheckBox 时直接调用<code>onChange</code></li> <li>单独使用<code>CheckBox</code>时，透传大部分<code>props</code>，其他属性如<code>checked</code>结合<code>ClassName</code>生成对应的<code>ClassName</code></li> <li>CheckBox 在 rc-checkbox 基础上包装一层<code>label</code></li></ul></li></ul></li></ul> <h4 id="自己实现的-checkbox"><a href="#自己实现的-checkbox" class="header-anchor">#</a> 自己实现的 CheckBox</h4> <p><a href="https://github.com/jianxiangxun/checkbox" target="_blank" rel="noopener noreferrer">git 地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li><p>优点：</p> <ul><li>漂亮的 check 效果，让人印象深刻</li> <li>尝试使用如 context 等特性来简化状态管理</li> <li>useCallback 与 useMemo 的使用说明重视性能</li> <li>测试较全面，重点需求都照顾到了</li></ul></li> <li><p>可以改进的地方：</p> <ul><li>未实现的功能：
<ul><li>一个重要需求未正确实现：多列时，每一列顺序应该从上到下，而不是每一行从左右到</li> <li>MultiCheck 传入的 <code>label</code> 未使用</li></ul></li> <li>变量定义：
<ul><li>很多 <code>let</code> 可以使用 <code>const</code>，更安全</li> <li>组件属性比如 <code>selectAllCheckboxProps</code> 放在外面定义成变量，而不是写成组件形式，可读性不佳</li></ul></li> <li>hook 的使用问题：
<ul><li><code>useCallback</code> 与 <code>useMemo</code> 的使用不完全正确，依赖项有缺失</li></ul></li> <li>代码不容易理解：
<ul><li>Checkbox 中 <code>handleChange</code> 中的逻辑复杂难以理解</li> <li><code>context</code> 在这个组件中使用有点重，<code>context</code>中 <code>onChange</code> 的语义不明确</li></ul></li> <li>单元测试：
<ul><li>测试写法有问题，大量写了 <code>setTimeout</code> 的测试永远不会失败</li></ul></li></ul></li> <li><p>疑问</p> <ul><li>父子组件中写测试的问题，在父组件中操作子组件，通过方法是否被调用判断</li> <li>暴露出的组件的<code>onChange</code>方法调用<code>setState</code>，并把<code>setState</code>的<code>value</code>提供给组件？</li></ul></li></ul> <h3 id="tabs"><a href="#tabs" class="header-anchor">#</a> tabs</h3> <ul><li>css
<ul><li>css 按照层级结构去书写，清晰；命名按照层级去命名，以<code>-</code>连接，如<code>rc-tabs-tab-nav-list</code></li> <li>css 分文件，index 写主要的结构，附加的写到单独的文件，如样式<code>positiion</code>,<code>type中的card样式</code>,<code>size</code>；功能<code>dropdown</code>。。。</li> <li>前缀变量，如<code>rc-tabs</code>,<code>rc-checkbox</code></li> <li>tab 滑动时，不用滚动条<code>overflow:hidden</code>,监控<code>wheel</code>事件通过 <strong><em>transform:(translate)</em></strong> 改变元素位置，<strong>提高性能</strong></li> <li><code>offsetHeight</code>,<code>offsetWidth</code>等的大量使用</li> <li>样式文件不直接引入，放到单独的 style 文件夹中，在整个项目入口 <code>index</code> 中引入所有组件的样式文件，最终可以一次导入</li></ul></li> <li>hooks
<ul><li>通过改变值，把值作为 effect 的依赖，从而来做对应的操作</li></ul></li> <li>知识点</li> <li></li></ul> <h3 id="progress"><a href="#progress" class="header-anchor">#</a> progress</h3> <ul><li>圆形 circle 由 SVG 实现</li></ul> <h3 id="slider"><a href="#slider" class="header-anchor">#</a> slider</h3> <ul><li>on</li></ul> <h3 id="dropdown"><a href="#dropdown" class="header-anchor">#</a> dropdown</h3> <h3 id="menu"><a href="#menu" class="header-anchor">#</a> menu</h3> <h2 id="状态管理"><a href="#状态管理" class="header-anchor">#</a> 状态管理</h2> <h3 id="redux"><a href="#redux" class="header-anchor">#</a> redux</h3> <ul><li>createStore
<ul><li>返回 state、subscribe、dispatch</li></ul></li> <li>combineReducers</li> <li>applyMiddleware
<ul><li>调用 compose</li></ul></li></ul> <h3 id="不可变对象"><a href="#不可变对象" class="header-anchor">#</a> 不可变对象</h3> <p><a href="https://zhuanlan.zhihu.com/p/33985606" target="_blank" rel="noopener noreferrer">关于 react, redux, react-redux 和 reselect 的一些思考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://github.com/camsong/blog/issues/3" target="_blank" rel="noopener noreferrer">Immutable 详解及 React 中实践 #3<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://zhuanlan.zhihu.com/p/29415032" target="_blank" rel="noopener noreferrer">React Tips (2) - Reselect<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://zhuanlan.zhihu.com/p/29370325" target="_blank" rel="noopener noreferrer">Immutable.js 与 React,Redux 及 reselect 的实践<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="视频中的知识点"><a href="#视频中的知识点" class="header-anchor">#</a> 视频中的知识点</h2> <ul><li><a href="https://coding.imooc.com/class/428.html" target="_blank" rel="noopener noreferrer">mksz428 - React+TypeScript 高仿 AntDesign 开发企业级 UI 组件库<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <ul><li>typescript
<ul><li>ts-node,工具</li> <li>鸭子类型，意思是主要叫的像鸭子就把他当做鸭子</li> <li>class 类的概念，修饰符<code>private</code>,<code>public</code>,<code>protect</code>,<code>readonly</code>,<code>static</code></li> <li><code>typescript</code>目录，查看文件<code>/Applications/Visual\ Studio\ Code.app/Contents/Resources/app/extensions/node_modules/typescript/lib</code></li> <li><code>lib.dom.d.ts</code>,<code>lib.es5.d.ts</code>文件分别定义了 DOM 相关类型，方法和各种类型等</li> <li>继承<code>extends</code>,实现<code>implements</code></li> <li>常量枚举的概念，提高性能</li> <li><strong>泛型约束</strong>，<code>extends</code></li> <li>接口<code>interface</code></li> <li>类型别名<code>type</code>,类型断言<code>as</code>,<code>(str as string).length</code>,<code>(&lt;string&gt;str).length</code></li> <li>声明文件<code>declare</code>,<code>declare var jQuery</code></li></ul></li> <li>react
<ul><li><code>npx create-react-app demo-app</code></li> <li><code>node_modules/.bin/mocha</code>在<code>.bin</code>文件夹中执行相应的命令，执行时把<code>.bin</code>加入系统变量<code>PATH</code>,执行完删除</li></ul></li> <li>组件起步
<ul><li>通过 <code>CSS</code> 类名去应用样式，比直接 <code>inline</code> 样式性能要好</li> <li>定义 <code>sass</code> 通用样式，颜色、字体、边框、圆角。色彩体系、字体体系等</li> <li>定义 <code>sass</code> 通用方法 <code>mixin</code>，一组 <code>CSS</code> 属性在不同状态下时很有用</li> <li><code>normalize.css</code>统一各个浏览器的通用样式，添加基础样式</li> <li>原生<code>button</code>属性很多，可以继承已经写好的<code>interface</code>，然后在这个基础上扩展</li></ul></li> <li>storybook
<ul><li><a href="https://www.chromatic.com/start" target="_blank" rel="noopener noreferrer">测试、部署工具<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>storybook 的各种插件，对各种工具的支持，如 addon-info、react-docgen、jsdoc</li> <li>storybook 的配置，webpack 处理特定的文件格式</li> <li>装饰器、全局装饰器</li> <li>使用 typescript，对应在 webpack 做配置以解析<code>ts</code>,<code>tsx</code>文件</li> <li>stories 默认导出中包括 component,title,decorator 等,<code>Template.bind({})</code></li> <li>快照测试,<code>snap test</code>,<code>@storybook/addon-storyshots</code></li> <li>自动化测试，结合<code>testing-library/react</code>,<code>@storybook/testing-react</code></li> <li>容器组件，react-redux 连接容器组件，获取数据，用 mock 数据包装展示组件</li> <li>Controls</li></ul></li> <li>组件测试
<ul><li>测试金字塔，单元测试、集成测试、e2e 测试的比重</li> <li><a href="https://github.com/testing-library/jest-dom" target="_blank" rel="noopener noreferrer">jest-dom<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,扩展 Tobe 语句，如<code>toBeInTheDocument</code>,<code>toHaveClass</code></li> <li><code>testing-library</code>中<code>fireEvent.click(element)</code></li></ul></li> <li>组件
<ul><li>menu 组件
<ul><li>先写组件的基本结构，在扩展功能。<strong>自己写组件、阅读组件</strong>也是先写基本功能，在扩展</li> <li><code>await wait(()=&gt;{})</code></li> <li><strong>问题？？？</strong>，创建样式文件控制元素显示隐藏</li></ul></li> <li>upload 组件
<ul><li>测试异步组件、测试拖拽组件</li> <li>jest.mock()</li></ul></li></ul></li></ul></li></ul></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/jianxiangxun/edit/master/docs/framework/1-1react.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">6/11/2021, 6:41:06 PM</span></div></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/career/framework/1-2react-native.html">
          React-native
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/career/assets/js/app.1671480c.js" defer></script><script src="/career/assets/js/19.e0a2a1d4.js" defer></script>
  </body>
</html>
