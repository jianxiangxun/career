(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{191:function(e,t,r){"use strict";r.r(t);var _=r(0),s=Object(_.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/user-handbook.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Babel 用户手册"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://juejin.cn/post/6844904008679686152#refetch",target:"_blank",rel:"noopener noreferrer"}},[e._v("不容错过的 Babel7 知识"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://juejin.cn/post/6844903956905197576",target:"_blank",rel:"noopener noreferrer"}},[e._v("深入浅出 Babel 上篇：架构和原理 + 实战"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://juejin.cn/post/6844903961820921869#refetch",target:"_blank",rel:"noopener noreferrer"}},[e._v("深入浅出 Babel 下篇：既生 Plugin 何生 Macros"),r("OutboundLink")],1)]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),r("p",[r("a",{attrs:{href:"https://eslint.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("官网"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://juejin.cn/post/6844903684522917902#heading-6",target:"_blank",rel:"noopener noreferrer"}},[e._v("深入浅出 eslint——关于我学习 eslint 的心得"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("create-react-app 中的使用：")]),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),r("p",[r("a",{attrs:{href:"https://www.robinwieruch.de/react-testing-library",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to use React Testing Library Tutorial"),r("OutboundLink")],1)]),e._v(" "),e._m(7),e._v(" "),r("p",[r("a",{attrs:{href:"https://juejin.cn/collection/6866385817200394247",target:"_blank",rel:"noopener noreferrer"}},[e._v("测试相关文章，来自掘金"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://juejin.cn/post/6943430853972852750",target:"_blank",rel:"noopener noreferrer"}},[e._v("那些年错过的 React 组件单元测试（上）"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://juejin.cn/post/6946008649026240519",target:"_blank",rel:"noopener noreferrer"}},[e._v("那些年错过的 React 组件单元测试（下）"),r("OutboundLink")],1)]),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),e._m(14)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"代码相关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码相关"}},[this._v("#")]),this._v(" 代码相关")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"babel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#babel"}},[this._v("#")]),this._v(" babel")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"eslint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eslint"}},[this._v("#")]),this._v(" eslint")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[e._v("分为几部分,"),r("code",[e._v("extends")]),e._v(","),r("code",[e._v("plugins")]),e._v(",,"),r("code",[e._v("rules")]),e._v(",")]),e._v(" "),r("li",[r("code",[e._v("settings")]),e._v(":共享的属性放在 setting 中")]),e._v(" "),r("li",[r("code",[e._v("overrides")]),e._v(":覆写，如"),r("code",[e._v("typescript")]),e._v("、"),r("code",[e._v("jest")]),e._v("等")]),e._v(" "),r("li",[r("code",[e._v("root")]),e._v(":设置为 true 不在向上级查找")]),e._v(" "),r("li",[r("code",[e._v("env")]),e._v("：支持的环境,node、jest、browser、ecma...")]),e._v(" "),r("li",[r("code",[e._v("parser")]),e._v(","),r("code",[e._v("parserOptions")]),e._v(":解析器、"),r("code",[e._v("babel-eslint")])]),e._v(" "),r("li",[r("code",[e._v("eslintignore")]),e._v("排除不需要检查的文件")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[e._v("使用 eslint-plugiin-react-app")]),e._v(" "),r("li",[e._v("进入 eslint-plugiin-react-app 源代码，分成两部分\n"),r("ul",[r("li",[e._v("一部分针对本身，extends 了基础 base 配置，base 中是基础配置，并使用了 eslint-plugin-react 插件")]),e._v(" "),r("li",[e._v("一部分针对 jest。在 jest 中对于后缀为 test 的文件覆写了一些规则")])])]),e._v(" "),r("li",[e._v("配置：\n"),r("ul",[r("li",[e._v("在新版本中从作为 loader 使用，改成作为 plugin 使用，"),r("code",[e._v("eslint-webpack-plugin")])]),e._v(" "),r("li",[e._v("通过 option 传递配置项")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"typescript"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#typescript"}},[this._v("#")]),this._v(" typescript")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"test"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#test"}},[this._v("#")]),this._v(" test")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("jest 是一个 test runner，gives you the ability to run tests")]),this._v(" "),t("li",[this._v("Jest offers you functions for test suites, test cases, and assertions. Of course the frameworks offers more than this (e.g. spies, mocks, stubs, etc.)。能够渲染 react")]),this._v(" "),t("li",[this._v("React Testing Library 辅助测试 "),t("strong",[t("em",[this._v("react")])]),this._v(" 项目的工具")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"jest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jest"}},[this._v("#")]),this._v(" jest")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("a",{attrs:{href:""}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[e._v("test 方法和 expect 方法的原理，expect 抛出异常，test 捕获异常")]),e._v(" "),r("li",[r("code",[e._v("npx jest init")]),e._v(","),r("code",[e._v("jest.config.js")])]),e._v(" "),r("li",[e._v("配置"),r("code",[e._v("babelrc")]),e._v("使用 es6 语法，"),r("code",[e._v("babel-env")]),e._v(",转换成哪个环境识别的代码")]),e._v(" "),r("li",[e._v("jest 集成了插件"),r("code",[e._v("babel-jest")]),e._v("，首先根据"),r("code",[e._v("babelrc")]),e._v("的内容进行转换，然后运行")]),e._v(" "),r("li",[e._v("匹配器，tobe...\n"),r("ul",[r("li",[e._v("testing-library/jest-dom,"),r("strong",[e._v("扩充")]),e._v("匹配 dom 的 matcher")]),e._v(" "),r("li",[r("code",[e._v("expect.xxxContainiing")])]),e._v(" "),r("li",[r("code",[e._v("toEqual")]),e._v("类似于==，判断内容是否相等")]),e._v(" "),r("li",[r("code",[e._v(".not")])]),e._v(" "),r("li",[r("code",[e._v("toHaveBeenCalled")])]),e._v(" "),r("li",[r("code",[e._v("toMatch")])]),e._v(" "),r("li",[r("code",[e._v("resolves")])]),e._v(" "),r("li",[r("code",[e._v("rejects")])]),e._v(" "),r("li",[r("code",[e._v("toThrow")]),e._v("测试抛出异常")]),e._v(" "),r("li",[r("code",[e._v("toBe")]),e._v("类似于===或者 object.is")])])]),e._v(" "),r("li",[e._v("命令行启动 vscode")]),e._v(" "),r("li",[e._v("watch 模式下的各种参数，如"),r("code",[e._v("-o")]),e._v("只运行在 Git 下有变化的文件")]),e._v(" "),r("li",[e._v("test.only 只运行一个测试用例，忽略其他")]),e._v(" "),r("li",[e._v("测试异步代码\n"),r("ul",[r("li",[e._v("done")]),e._v(" "),r("li",[e._v("return promise")]),e._v(" "),r("li",[e._v("expect.assertions(1)，必须要有指定个数的 expect 被执行")]),e._v(" "),r("li",[e._v("resolves、rejects")]),e._v(" "),r("li",[e._v("async、await")])])]),e._v(" "),r("li",[e._v("mock\n"),r("ul",[r("li",[e._v(".mock(calls、results、instance)")]),e._v(" "),r("li",[e._v("mock return value")]),e._v(" "),r("li",[e._v("mock Implementations")]),e._v(" "),r("li",[e._v("mock module，"),r("code",[e._v("jest.mock('axios');")])]),e._v(" "),r("li",[r("code",[e._v("__mocks__")]),e._v("模拟返回自定义的 mock function,"),r("code",[e._v("jest.mock(xxx)")])]),e._v(" "),r("li",[r("code",[e._v("jest.requireActual")]),e._v("返回真实函数，调过使用模拟函数")])])]),e._v(" "),r("li",[e._v("快照测试\n"),r("ul",[r("li",[e._v("toMatchSnapshot")]),e._v(" "),r("li",[e._v("Property Matchers,匹配变化的内容如时间，"),r("code",[e._v("expect.any(Date)")])]),e._v(" "),r("li",[e._v("Inline Snapshots")])])]),e._v(" "),r("li",[e._v("timer\n"),r("ul",[r("li",[r("code",[e._v("jest.useFakeTimers()")])]),e._v(" "),r("li",[r("code",[e._v("jest.useRealTimers();")])]),e._v(" "),r("li",[r("code",[e._v("jest.runAllTimers();")])]),e._v(" "),r("li",[r("code",[e._v("jest.runOnlyPendingTimers();")]),e._v("运行 pending 中的 timer")]),e._v(" "),r("li",[r("code",[e._v("jest.advanceTimersByTime(1000);")]),e._v("快进时间")])])]),e._v(" "),r("li",[e._v("mock es6 module\n"),r("ul",[r("li",[e._v("假设 xxx 中方法很复杂，jest.mock(xxx)自动把 xxx 构造函数和方法替换成 jest.fn")]),e._v(" "),r("li",[r("strong",[e._v("单元测试只关注本身，不关注引用的函数、方法，会常用到 mock，忽略关联")])]),e._v(" "),r("li",[e._v("集成测试，对单元以及单元关联的内容都做测试")]),e._v(" "),r("li")])]),e._v(" "),r("li",[r("strong",[e._v("改变 props 后，要重新获取 element")]),e._v("，"),r("code",[e._v("wrapper = mount(<App />)")])]),e._v(" "),r("li",[e._v("TDD/BDD、集成测试\n"),r("ul",[r("li",[e._v("优缺点")])])]),e._v(" "),r("li",[e._v("异步测试\n"),r("ul",[r("li",[e._v("ReactWrapper.update")]),e._v(" "),r("li",[e._v("ReactWrapper.debug")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"testing-library"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#testing-library"}},[this._v("#")]),this._v(" testing-library")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("findBy 是异步的，是 waitFor+getBy 的组合")]),this._v(" "),t("li",[this._v("queryBy 查找不到返回 null")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"练习"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#练习"}},[this._v("#")]),this._v(" 练习")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("code",[this._v("fireEvent.change")]),this._v("不好使")]),this._v(" "),t("li",[this._v("多使用"),t("code",[this._v("userEvent")]),this._v("代替")])])}],!1,null,null,null);t.default=s.exports}}]);